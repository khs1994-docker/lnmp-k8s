(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{368:function(v,_,t){"use strict";t.r(_);var a=t(33),o=Object(a.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"configmap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configmap"}},[v._v("#")]),v._v(" configMap")]),v._v(" "),t("h2",{attrs:{id:"用途"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用途"}},[v._v("#")]),v._v(" 用途")]),v._v(" "),t("p",[v._v("ConfigMap 可以被用来：")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("设置环境变量的值")])]),v._v(" "),t("li",[t("p",[v._v("在容器里设置命令行参数")])]),v._v(" "),t("li",[t("p",[v._v("在数据卷里面创建 config 文件")])])]),v._v(" "),t("h2",{attrs:{id:"更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[v._v("#")]),v._v(" 更新")]),v._v(" "),t("p",[v._v("更新 "),t("code",[v._v("ConfigMap")]),v._v(" 后：")]),v._v(" "),t("ul",[t("li",[v._v("使用该 "),t("code",[v._v("ConfigMap")]),v._v(" 挂载的 "),t("code",[v._v("Env")]),v._v(" "),t("strong",[v._v("不会")]),v._v(" 同步更新")]),v._v(" "),t("li",[v._v("使用该 "),t("code",[v._v("ConfigMap")]),v._v(" 挂载的 "),t("code",[v._v("Volume")]),v._v(" 中的数据需要一段时间（实测大概10秒）才能同步更新")]),v._v(" "),t("li",[v._v("如果使用子路径方式挂载的数据卷，将 "),t("strong",[v._v("不会")]),v._v(" 触发更新。")])]),v._v(" "),t("p",[v._v("为了更新容器中使用 "),t("code",[v._v("ConfigMap")]),v._v(" 挂载的配置，可以通过滚动更新 "),t("code",[v._v("pod")]),v._v(" 的方式来强制重新挂载 "),t("code",[v._v("ConfigMap")]),v._v("，也可以在更新了 "),t("code",[v._v("ConfigMap")]),v._v(" 后，先将副本数设置为 0，然后再扩容。")]),v._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[v._v("#")]),v._v(" 参考")]),v._v(" "),t("ul",[t("li",[v._v("https://www.jianshu.com/p/912800b58520")]),v._v(" "),t("li",[v._v("http://dockone.io/article/8632")]),v._v(" "),t("li",[v._v("https://www.cnblogs.com/chimeiwangliang/p/8796133.html")])])])}),[],!1,null,null,null);_.default=o.exports}}]);